<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InkMaster Studio | Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        .hotmart-style { background-color: #f4f4f4; }
        .auth-card { background: white; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); color: #333; }
        .input-field { border: 1px solid #ddd; border-radius: 8px; padding: 12px; width: 100%; margin-bottom: 12px; color: #000; }
        .btn-orange { background-color: #ff4d00; color: white; font-weight: bold; padding: 14px; border-radius: 8px; width: 100%; transition: 0.2s; }
        .btn-orange:hover { background-color: #e64500; }
        .divider { display: flex; align-items: center; text-align: center; color: #999; font-size: 12px; margin: 20px 0; }
        .divider::before, .divider::after { content: ''; flex: 1; border-bottom: 1px solid #eee; }
        .divider:not(:empty)::before { margin-right: .5em; }
        .divider:not(:empty)::after { margin-left: .5em; }
    </style>
</head>
<body class="bg-[#0a0a0a] text-white font-sans min-h-screen">

    <nav class="flex justify-between items-center p-6 max-w-7xl mx-auto">
        <h1 class="text-2xl font-bold italic">INK<span class="text-red-600">MASTER</span></h1>
        <button onclick="toggleModal()" class="bg-white text-black px-4 py-2 rounded-md text-sm font-bold">Fazer Login</button>
    </nav>

    <section class="max-w-7xl mx-auto px-6 py-24 text-center">
        <h2 class="text-6xl font-bold mb-6">Sua pele, sua história.</h2>
        <button onclick="toggleModal()" class="bg-red-600 px-10 py-5 rounded-full font-bold text-xl">Quero minha tatuagem</button>
    </section>

    <div id="auth-modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center hidden z-50 p-4">
        <div class="auth-card w-full max-w-[400px] p-8 animate-up relative">
            <button onclick="toggleModal()" class="absolute top-4 right-4 text-gray-400">&times;</button>
            
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">Crie sua conta agora.</h3>
                <p class="text-gray-500 font-medium">É gratuito</p>
            </div>

            <button onclick="loginGoogle()" class="flex items-center justify-center gap-4 w-full border border-gray-300 rounded-lg p-3 hover:bg-gray-50 transition mb-4">
                <img src="https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png" class="w-5">
                <span class="text-gray-700 font-semibold">Entrar com Google</span>
            </button>

            <div class="divider">Ou</div>

            <div>
                <input type="text" id="reg-nome" placeholder="Digite seu nome completo" class="input-field">
                <input type="email" id="reg-email" placeholder="Digite seu e-mail" class="input-field">
                <input type="password" id="reg-senha" placeholder="Digite sua senha" class="input-field">
                
                <p class="text-[10px] text-gray-400 text-center mb-6 px-2">
                    Ao me cadastrar, declaro que sou maior de idade, li e concordo com os 
                    <a href="#" class="underline">Termos e as Políticas</a> da plataforma.
                </p>

                <button onclick="cadastrarUsuario()" class="btn-orange">Criar conta</button>
            </div>
        </div>
    </div>

    <script>
        const SB_URL = 'https://umufrakmlasvznxllzsy.supabase.co';
        const SB_KEY = 'sb_publishable_LfREjHCpJvkEq98Lc7XKWQ_kzwOFeU6';
        const supabaseClient = supabase.createClient(SB_URL, SB_KEY);

        function toggleModal() {
            const modal = document.getElementById('auth-modal');
            modal.classList.toggle('hidden');
        }

        async function loginGoogle() {
            const { error } = await supabaseClient.auth.signInWithOAuth({
                provider: 'google',
                options: { redirectTo: window.location.origin }
            });
            if (error) alert(error.message);
        }

        async function cadastrarUsuario() {
            const email = document.getElementById('reg-email').value;
            const password = document.getElementById('reg-senha').value;
            const nome = document.getElementById('reg-nome').value;

            if (!email || !password) return alert("Preencha os campos!");

            const { data, error } = await supabaseClient.auth.signUp({
                email,
                password,
                options: { data: { full_name: nome } }
            });

            if (error) alert(error.message);
            else alert("Conta criada! Verifique seu e-mail para confirmar.");
        }
    </script>
</body>
</html>
